/*
	@project:	SWFsize @ www.chargedweb.com/swfsize/
	@version:	1.1
	@author:	(c)2010 Julius Loa | jloa@chargedweb.com
	licence:	CC 3.0 @ http://creativecommons.org/licenses/by-sa/3.0/
*/
swfsize={};swfsize.id="";swfsize.valueAbs="px";swfsize.valueRel="%";swfsize.browser=navigator.appName;swfsize.isIE=(swfsize.browser.indexOf("Microsoft")>=0);swfsize.lX=0;swfsize.rX=0;swfsize.tY=0;swfsize.bY=0;swfsize.wH=0;swfsize.wW=0;swfsize.sW=0;swfsize.sH=0;swfsize.swfW=0;swfsize.swfH=0;swfsize.scrX=0;swfsize.scrY=0;swfsize.init=function(){if(!this.available()){this.errorID();return 0}this.targetSWF().focus();window.onresize=this.onWindowResizeHandler;window.onscroll=this.onWindowScrollHandler;if(window.addEventListener){document.addEventListener("scroll",this.onWindowScrollHandler,false)}this.onWindowLoadHandler();return 1};swfsize.updateMetrics=function(){this.swfW=this.getSWFWidth();this.swfH=this.getSWFHeight();this.scrX=this.getScrollX();this.scrY=this.getScrollY();this.wW=(this.isIE)?document.body.clientWidth:window.innerWidth;this.wH=(this.isIE)?document.body.clientHeight:window.innerHeight;if(!this.isIE){this.sW=this.wW-document.body.offsetWidth;this.sH=this.wH-document.body.offsetHeight;this.wW-=this.sW}this.lX=document.body.scrollLeft;this.rX=this.lX+this.wW;this.tY=document.body.scrollTop;this.bY=this.tY+this.wH};swfsize.onWindowLoadHandler=function(a){if(swfsize.available()){swfsize.updateMetrics();swfsize.targetSWF().onWindowInit(swfsize.tY+","+swfsize.bY+","+swfsize.lX+","+swfsize.rX+","+swfsize.wW+","+swfsize.wH+","+swfsize.swfW+","+swfsize.swfH+","+swfsize.scrX+","+swfsize.scrY)}else{swfsize.errorID()}};swfsize.onWindowResizeHandler=function(a){swfsize.updateMetrics();swfsize.targetSWF().onWindowResize(swfsize.tY+","+swfsize.bY+","+swfsize.lX+","+swfsize.rX+","+swfsize.wW+","+swfsize.wH+","+swfsize.swfW+","+swfsize.swfH+","+swfsize.scrX+","+swfsize.scrY)};swfsize.onWindowScrollHandler=function(a){swfsize.updateMetrics();swfsize.targetSWF().onWindowScroll(swfsize.tY+","+swfsize.bY+","+swfsize.lX+","+swfsize.rX+","+swfsize.wW+","+swfsize.wH+","+swfsize.swfW+","+swfsize.swfH+","+swfsize.scrX+","+swfsize.scrY)};swfsize.setSWFWidth=function(a,b){b=this.checkValueType(b);if(this.available()){this.targetSWF().width=(b==this.valueAbs)?a:a+b;this.targetSWF().style.width=a+b;this.onWindowResizeHandler()}else{this.errorID()}};swfsize.setSWFHeight=function(a,b){b=this.checkValueType(b);if(this.available()){this.targetSWF().height=(b==this.valueAbs)?a:a+b;this.targetSWF().style.height=a+b;this.onWindowResizeHandler()}else{this.errorID()}};swfsize.getSWFWidth=function(){if(this.id!=""&&this.targetSWF()){return this.targetSWF().width}else{this.errorID();return 0}};swfsize.getSWFHeight=function(){if(this.id!=""&&this.targetSWF()){return this.targetSWF().height}else{this.errorID();return 0}};swfsize.setScrollX=function(b){var a=(this.isIE)?this.tY:window.pageYOffset;window.scrollTo(b,a);this.updateMetrics()};swfsize.setScrollY=function(b){var a=(this.isIE)?this.lX:window.pageXOffset;window.scrollTo(a,b);this.updateMetrics()};swfsize.getScrollX=function(){return(this.isIE)?this.lX:window.pageXOffset};swfsize.getScrollY=function(){return(this.isIE)?this.tY:window.pageYOffset};swfsize.getWindowWidth=function(){return this.wW};swfsize.getWindowHeight=function(){return this.wH};swfsize.getLeftX=function(){return this.lX};swfsize.getRightX=function(){return this.rX};swfsize.getTopY=function(){return this.tY};swfsize.getBottomY=function(){return this.bY};swfsize.available=function(){return(this.id!=""&&this.targetSWF())};swfsize.checkValueType=function(a){a=(!a||a!=this.valueAbs&&a!=this.valueRel)?this.valueAbs:a;return a};swfsize.targetSWF=function(){return(this.isIE)?window[this.id]:document[this.id]};swfsize.errorID=function(){alert('Error: could not find the swf container using SWFsize.id = "'+this.id+'"\nCheck wheter the swfsize.id = attributes.id')};