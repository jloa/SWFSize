/*
	@project:	SWFsize @ www.chargedweb.com/swfsize/
	@version:	1.4
	@author:	Julius Loa a.k.a. Jloa | jloa[at]chargedweb.com
	licence:	CC 3.0 @ http://creativecommons.org/licenses/by-sa/3.0/
*/	
SWFSize=function SWFSize(){this.id="";this.version="1.4.0";this.valueAbs="px";this.valueRel="%";this.browser=navigator.appName;this.isIE=(this.browser.indexOf("Microsoft")>=0);this.lX=0;this.rX=0;this.tY=0;this.bY=0;this.wH=0;this.wW=0;this.sW=0;this.sH=0;this.swfW=0;this.swfH=0;this.scrX=0;this.scrY=0;this.setId=function(a){this.id=a;SWFSizePool.register(this)};this.init=function(){if(!this.available()){this.errorID();return 0}this.targetSWF().focus();this.onWindowLoadHandler();return 1};this.updateMetrics=function(){this.swfW=this.getSWFWidth();this.swfH=this.getSWFHeight();this.scrX=this.getScrollX();this.scrY=this.getScrollY();this.wW=(this.isIE)?document.body.clientWidth:window.innerWidth;this.wH=(this.isIE)?document.body.clientHeight:window.innerHeight;if(!this.isIE){this.sW=this.wW-document.body.offsetWidth;this.sH=this.wH-document.body.offsetHeight;this.wW-=this.sW}this.lX=document.body.scrollLeft;this.rX=this.lX+this.wW;this.tY=document.body.scrollTop;this.bY=this.tY+this.wH};this.onWindowLoadHandler=function(a){if(this.available()){this.updateMetrics();this.targetSWF().onWindowInit(this.tY+","+this.bY+","+this.lX+","+this.rX+","+this.wW+","+this.wH+","+this.swfW+","+this.swfH+","+this.scrX+","+this.scrY)}else{this.errorID()}};this.setSWFWidth=function(a,b){b=this.checkValueType(b);if(this.available()){this.targetSWF().width=(b==this.valueAbs)?a:a+b;this.targetSWF().style.width=a+b}else{this.errorID()}};this.setSWFHeight=function(a,b){b=this.checkValueType(b);if(this.available()){this.targetSWF().height=(b==this.valueAbs)?a:a+b;this.targetSWF().style.height=a+b}else{this.errorID()}};this.getSWFWidth=function(){if(this.id!=""&&this.targetSWF()){return this.targetSWF().width}else{this.errorID();return 0}};this.getSWFHeight=function(){if(this.id!=""&&this.targetSWF()){return this.targetSWF().height}else{this.errorID();return 0}};this.setScrollX=function(b){var a=(this.isIE)?this.tY:window.pageYOffset;window.scrollTo(b,a);this.updateMetrics()};this.setScrollY=function(b){var a=(this.isIE)?this.lX:window.pageXOffset;window.scrollTo(a,b);this.updateMetrics()};this.getScrollX=function(){return(this.isIE)?this.lX:window.pageXOffset};this.getScrollY=function(){return(this.isIE)?this.tY:window.pageYOffset};this.getWindowWidth=function(){return this.wW};this.getWindowHeight=function(){return this.wH};this.getLeftX=function(){return this.lX};this.getRightX=function(){return this.rX};this.getTopY=function(){return this.tY};this.getBottomY=function(){return this.bY};this.available=function(){return(this.id!=""&&this.targetSWF())};this.checkValueType=function(a){a=(!a||a!=this.valueAbs&&a!=this.valueRel)?this.valueAbs:a;return a};this.targetSWF=function(){return(this.isIE)?window[this.id]:document[this.id]};this.errorID=function(){alert('Error: could not find the swf container using SWFsize.id = "'+this.id+"\"\nCheck wheter you've passed the swf's id to SWFSize via swfsize.setId(attributes.id);")}};SWFSizePool=new function SWFSizePooler(){this.pool=[];this.numItems=0;this.initialized=false;this.register=function(a){this.pool.push(a);this.numItems=this.pool.length;if(!this.initialized){if(window.addEventListener){window.addEventListener("resize",this.onWindowResizeHandler,false);window.addEventListener("scroll",this.onWindowScrollHandler,false)}else{window.attachEvent("onresize",this.onWindowResizeHandler);window.attachEvent("onscroll",this.onWindowScrollHandler)}initialized=true}};this.getItemById=function(b){for(var a=0;a<this.numItems;a++){if(this.pool[a].id==b){return this.pool[a]}}};this.onWindowResizeHandler=function(b){for(var a=0;a<SWFSizePool.numItems;a++){inst=SWFSizePool.pool[a];inst.updateMetrics();inst.targetSWF().onWindowResize(inst.tY+","+inst.bY+","+inst.lX+","+inst.rX+","+inst.wW+","+inst.wH+","+inst.swfW+","+inst.swfH+","+inst.scrX+","+inst.scrY)}};this.onWindowScrollHandler=function(b){for(var a=0;a<SWFSizePool.numItems;a++){inst=SWFSizePool.pool[a];inst.updateMetrics();inst.targetSWF().onWindowScroll(inst.tY+","+inst.bY+","+inst.lX+","+inst.rX+","+inst.wW+","+inst.wH+","+inst.swfW+","+inst.swfH+","+inst.scrX+","+inst.scrY)}}};